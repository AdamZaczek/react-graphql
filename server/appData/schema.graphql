schema {
  query: NobodysStoriesSchema
  mutation: NobodysStoriesMutations
}

# Represents a category of a story
enum Category {
  ADULT
  SEX
  LOVE
  SCHOOL
  FUNNY
  DATE
  SAD
  EMBARRASSING
  SCARY
}

type Comment {
  _id: String
  _author: User
  _story: Story
  summary: String
  content: String
  createdAt: Int
}

type NobodysStoriesMutations {
  # Create a new story
  createStory(
    _id: String!
    title: String!
    content: String!
    summary: String
    category: Category

    # Id of the user
    auser: String!
  ): Story
}

# Root of the Nobodys Stories
type NobodysStoriesSchema {
  # List of stories in the Nobodys Stories
  customStoriesQuery(category: Category): [Story]

  # Story by _id
  customStoryQuery(id: String!): Story

  # Latest story in the Nobodys Stories
  customLatestStoryQuery: Story

  # Recent story in the Nobodys Stories
  customRecentStoriesQuery(
    # Number of recent stories
    count: Int!
  ): [Story]

  # Available users in the Nobodys Stories
  customUsersQuery: [User]

  # User by _id
  customUserQuery(id: String!): User
}

# Represent the type of a story
type Story {
  _id: String
  title: String
  category: Category
  summary: String
  content: String
  createdAt: String
  comments(
    # Limit the returning comments
    limit: Int
  ): [Comment]
  _author: User
}

# Represents user of the application
type User {
  _id: String
  name: String
  email: String
  password: String
  age: Int
  createdAt: Int
  updatedAt: Int
}
